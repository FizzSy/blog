(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{475:function(e,a,t){"use strict";t.r(a);var r=t(25),s=Object(r.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"docker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker"}},[e._v("#")]),e._v(" docker")]),e._v(" "),t("h2",{attrs:{id:"_1、常用命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、常用命令"}},[e._v("#")]),e._v(" 1、常用命令")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('sudo reboot                                         // 重启\n\ndocker search image_name                            // 搜索镜像\ndocker images                                       // 查看本地镜像\ndocker rmi image_name                               // 删除镜像\n\ndocker run -itd --name="container_name" nginx       // 创建一个新容器\ndocker start [OPTIONS] container [CONTAINER...]     // 启动一个或多个已经被停止的容器 docker start test\ndocker stop [OPTIONS] container [CONTAINER...]      // 停止一个运行中的容器 docker stop\ndocker restart [OPTIONS] container [CONTAINER...]   // 重启容器\n\ndocker exec [OPTIONS] CONTAINER COMMAND [ARG...]    // 进入容器执行bash docker exec -it 9df70f9a0714 /bin/bash\n')])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br"),t("span",{staticClass:"line-number"},[e._v("10")]),t("br"),t("span",{staticClass:"line-number"},[e._v("11")]),t("br"),t("span",{staticClass:"line-number"},[e._v("12")]),t("br")])]),t("h2",{attrs:{id:"_2、基础操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2、基础操作"}},[e._v("#")]),e._v(" 2、基础操作")]),e._v(" "),t("h3",{attrs:{id:"容器操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#容器操作"}},[e._v("#")]),e._v(" 容器操作")]),e._v(" "),t("ol",[t("li",[e._v("创建容器： "),t("code",[e._v('docker run -itd --name="container_name" nginx')]),e._v(" "),t("blockquote",[t("p",[e._v("-i (interactive) 交互模式运行容器\n-t (tty) 后台运行容器，并返回容器 ID\n-d (detach) 为容器重新分配一个伪输入终端\n--name 为容器指定名称")])])]),e._v(" "),t("li",[e._v("查看容器（运行中的）： "),t("code",[e._v("docker ps")])]),e._v(" "),t("li",[e._v("查看容器（包括已停止的）： "),t("code",[e._v("docker ps -a")])]),e._v(" "),t("li",[e._v("停止容器："),t("code",[e._v("docker stop container/container_id")])]),e._v(" "),t("li",[e._v("重启容器："),t("code",[e._v("docker restart container/container_id")])]),e._v(" "),t("li",[e._v("删除容器："),t("code",[e._v("docker rm container/container_id")])])]),e._v(" "),t("h3",{attrs:{id:"容器的修改及保存"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#容器的修改及保存"}},[e._v("#")]),e._v(" 容器的修改及保存")]),e._v(" "),t("ol",[t("li",[e._v("进入容器： "),t("code",[e._v("docker exec -it container_id/container_name /bin/bash")])]),e._v(" "),t("li",[e._v("退出容器： "),t("code",[e._v("exit")])]),e._v(" "),t("li",[e._v("提交修改： "),t("code",[e._v('docker commit -a "author" -m "message" container_id/container_name image_name:tag_name')]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[e._v("参数说明")]),e._v(" "),t("blockquote",[t("p",[e._v("-a: 可选，用于指定作者"),t("br"),e._v("\n-m: 可选，提交信息"),t("br"),e._v("\ncontainer_id: 被修改的容器 id"),t("br"),e._v("\nimage_name: 新镜像名字，可以自定义"),t("br"),e._v("\ntag_name: 新镜像的标签，可不写，默认为 latest\n:::")])])])])]),e._v(" "),t("h3",{attrs:{id:"容器进阶操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#容器进阶操作"}},[e._v("#")]),e._v(" 容器进阶操作")]),e._v(" "),t("ol",[t("li",[t("p",[e._v("端口映射"),t("br"),e._v(" "),t("code",[e._v("docker run -itd -p 宿主机端口号:容器端口号 image_name")])])]),e._v(" "),t("li",[t("p",[e._v("文件挂载"),t("br"),e._v(" "),t("code",[e._v("docker run -itd -v /宿主机/文件目录/文件:/容器/目录/文件 image_name")])])]),e._v(" "),t("li",[t("p",[e._v("容器文件复制到本地"),t("br"),e._v(" "),t("code",[e._v("docker cp 容器名:/目录/文件 /宿主机目录/文件")])])]),e._v(" "),t("li",[t("p",[e._v("本地文件复制到容器"),t("br"),e._v(" "),t("code",[e._v("docker cp /宿主机目录/文件 容器名:/目录/文件")])])])]),e._v(" "),t("p",[e._v("修改 mysql"),t("br"),e._v(" "),t("code",[e._v("docker run -itd --name=mysql -p 33066:3306 -v /course/mysql:/var/lib/mysql/ -e MYSQL_ROOT_PASSWORD=root mysql")]),e._v("\n修改 mysql 密码 为 root\n"),t("code",[e._v("ALTER USER 'root'@'%' IDENTIFIED WITH mysql_native_password BY 'root'")])]),e._v(" "),t("h2",{attrs:{id:"_3、dockerfile"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3、dockerfile"}},[e._v("#")]),e._v(" 3、Dockerfile")]),e._v(" "),t("p",[e._v("::: 介绍\n文件中包含 Linux 命令，"),t("code",[e._v("docker")]),e._v("通过读取文件中的命令来组件镜像"),t("br"),e._v("\n一般四部分： "),t("code",[e._v("基础镜像信息、维护者信息、镜像操作指令、容器启动时执行指令")])]),e._v(" "),t("p",[e._v(":::")]),e._v(" "),t("blockquote",[t("p",[t("code",[e._v("FROM")]),e._v(": 指定基础镜像，必须为第一个命令")])]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("格式：\n    FROM <image>\n    FROM <image>:<tag>\n    FROM <image>@<digest>\n\n示例：\n    FROM centos:7.0\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br")])]),t("h2",{attrs:{id:"_4、英文缩写"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4、英文缩写"}},[e._v("#")]),e._v(" 4、英文缩写")]),e._v(" "),t("h3",{attrs:{id:"容器命令详解"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#容器命令详解"}},[e._v("#")]),e._v(" 容器命令详解")]),e._v(" "),t("p",[e._v("-i (interactive)"),t("br"),e._v("\n-t (tty)"),t("br"),e._v("\n-d (detach)"),t("br"),e._v("\n-p (port)"),t("br"),e._v("\nexec (execute)")]),e._v(" "),t("h2",{attrs:{id:"_5、docker-命令大全"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5、docker-命令大全"}},[e._v("#")]),e._v(" 5、Docker 命令大全")]),e._v(" "),t("p",[t("a",{attrs:{href:"https://www.runoob.com/docker/docker-command-manual.html",target:"_blank"}},[e._v("Docker 命令大全")])]),e._v(" "),t("h2",{attrs:{id:"_6、docker-拉取镜像特别慢的解决办法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6、docker-拉取镜像特别慢的解决办法"}},[e._v("#")]),e._v(" 6、docker 拉取镜像特别慢的解决办法")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://img-blog.csdnimg.cn/20200130143259716.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zNjU2MjgwNA==,size_16,color_FFFFFF,t_70"}}),e._v(".")]),e._v(" "),t("p",[e._v("添加\n"),t("code",[e._v('"registry-mirrors":["https://f3lu6ju1.mirror.aliyuncs.com"]')])]),e._v(" "),t("h2",{attrs:{id:"_7、本地连接-docker-虚拟机"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7、本地连接-docker-虚拟机"}},[e._v("#")]),e._v(" 7、本地连接 docker 虚拟机")]),e._v(" "),t("p",[e._v("使用"),t("code",[e._v("ssh docker@<ip>")]),e._v("\n默认账号密码在顶部有写")])])}),[],!1,null,null,null);a.default=s.exports}}]);